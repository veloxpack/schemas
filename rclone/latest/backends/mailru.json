{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.veloxpack.io/rclone/latest/backends/mailru.json",
  "title": "Mail.ru Cloud",
  "description": "Mail.ru Cloud storage",
  "type": "object",
  "required": ["user", "pass"],
  "properties": {
    "user": {
      "type": "string",
      "title": "Username",
      "description": "User name (usually email)",
      "format": "email",
      "examples": ["user@mail.ru"]
    },
    "pass": {
      "type": "string",
      "title": "Password",
      "description": "Password. This must be an app password - rclone will not work with your normal password",
      "format": "password"
    },
    "speedup_enable": {
      "type": "boolean",
      "title": "Speedup Enable",
      "description": "Skip full upload if there is another file with same data hash. This searches files by hash in all mail.ru accounts",
      "default": true
    },
    "speedup_file_patterns": {
      "type": "string",
      "title": "Speedup File Patterns",
      "description": "Comma separated list of file name patterns eligible for speedup (put by hash). Default is *.mkv,*.avi,*.mp4,*.mp3,*.zip,*.gz,*.rar,*.pdf",
      "default": "*.mkv,*.avi,*.mp4,*.mp3,*.zip,*.gz,*.rar,*.pdf",
      "examples": ["*.mkv,*.mp4", "*.zip,*.rar,*.7z", "*"]
    },
    "speedup_max_disk": {
      "oneOf": [
        { "type": "string", "pattern": "^[0-9]+(\\.[0-9]+)?[BKMGTP]?i?$" },
        { "type": "integer", "minimum": 0 }
      ],
      "title": "Speedup Max Disk",
      "description": "This option allows you to disable speedup for large files. Every file larger than this limit will be always uploaded from scratch",
      "default": "3Gi",
      "examples": ["1G", "3G", "off"]
    },
    "speedup_max_memory": {
      "oneOf": [
        { "type": "string", "pattern": "^[0-9]+(\\.[0-9]+)?[BKMGTP]?i?$" },
        { "type": "integer", "minimum": 0 }
      ],
      "title": "Speedup Max Memory",
      "description": "Files larger than this will be cached on disk for hash calculations",
      "default": "32Mi",
      "examples": ["32M", "64M", "128M"]
    },
    "check_hash": {
      "type": "boolean",
      "title": "Check Hash",
      "description": "What should copy do if file checksum is mismatched or invalid",
      "default": true
    },
    "encoding": {
      "type": "string",
      "title": "Encoding",
      "description": "The encoding for the backend (advanced)",
      "default": "Slash,LtGt,DoubleQuote,Colon,Question,Asterisk,Pipe,BackSlash,Del,Ctl,InvalidUtf8,Dot"
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "user": "user@mail.ru",
      "pass": "app-password"
    },
    {
      "user": "user@mail.ru",
      "pass": "app-password",
      "speedup_enable": true,
      "speedup_max_disk": "5G"
    }
  ],
  "$comment": "Mail.ru Cloud also supports OAuth authentication. Speedup feature allows hash-based deduplication across all mail.ru users"
}

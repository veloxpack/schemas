{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.veloxpack.io/rclone/latest/backends/s3.json",
  "title": "S3",
  "description": "Amazon S3 and S3-compatible storage providers (46 providers supported)",
  "type": "object",
  "properties": {
    "provider": {
      "type": "string",
      "title": "S3 Provider",
      "description": "Choose your S3 provider",
      "oneOf": [
        { "const": "AWS", "title": "Amazon Web Services (AWS) S3" },
        { "const": "Wasabi", "title": "Wasabi Object Storage" },
        { "const": "DigitalOcean", "title": "DigitalOcean Spaces" },
        { "const": "Cloudflare", "title": "Cloudflare R2 Storage" },
        { "const": "Minio", "title": "Minio Object Storage" },
        { "const": "Alibaba", "title": "Alibaba Cloud OSS" },
        { "const": "Ceph", "title": "Ceph Object Storage" },
        { "const": "Scaleway", "title": "Scaleway Object Storage" },
        { "const": "Linode", "title": "Linode Object Storage" },
        { "const": "Storj", "title": "Storj (S3 Compatible Gateway)" },
        { "const": "IBMCOS", "title": "IBM COS S3" },
        { "const": "GCS", "title": "Google Cloud Storage (S3 Compatible)" },
        { "const": "HuaweiOBS", "title": "Huawei Object Storage Service" },
        { "const": "TencentCOS", "title": "Tencent Cloud Object Storage" },
        { "const": "OVHcloud", "title": "OVHcloud Object Storage" },
        { "const": "IDrive", "title": "IDrive e2" },
        { "const": "IONOS", "title": "IONOS Cloud" },
        { "const": "LyveCloud", "title": "Seagate Lyve Cloud" },
        { "const": "SeaweedFS", "title": "SeaweedFS S3" },
        { "const": "RackCorp", "title": "RackCorp Object Storage" },
        { "const": "Petabox", "title": "Petabox Object Storage" },
        { "const": "Other", "title": "Other S3 Compatible" },
        { "const": "ArvanCloud", "title": "ArvanCloud Object Storage (AOS)" },
        { "const": "ChinaMobile", "title": "China Mobile Ecloud Elastic Object Storage (EOS)" },
        { "const": "Cubbit", "title": "Cubbit DS3" },
        { "const": "Dreamhost", "title": "Dreamhost DreamObjects" },
        { "const": "Exaba", "title": "Exaba Object Storage" },
        { "const": "FileLu", "title": "FileLu Object Storage" },
        { "const": "FlashBlade", "title": "Pure Storage FlashBlade" },
        { "const": "Hetzner", "title": "Hetzner Object Storage" },
        { "const": "Intercolo", "title": "Intercolo Object Storage" },
        { "const": "Leviia", "title": "Leviia Object Storage" },
        { "const": "Liara", "title": "Liara Object Storage" },
        { "const": "Magalu", "title": "Magalu Object Storage" },
        { "const": "Mega", "title": "MEGA S4 Object Storage" },
        { "const": "Netease", "title": "Netease Object Storage (NOS)" },
        { "const": "Outscale", "title": "Outscale Object Storage" },
        { "const": "Qiniu", "title": "Qiniu Cloud Object Storage (Kodo)" },
        { "const": "Rabata", "title": "Rabata Cloud Storage" },
        { "const": "Rclone", "title": "Rclone S3 Server" },
        { "const": "Selectel", "title": "Selectel Object Storage" },
        { "const": "Servercore", "title": "Servercore Object Storage" },
        { "const": "SpectraLogic", "title": "Spectra Logic BlackPearl" },
        { "const": "StackPath", "title": "StackPath Object Storage" },
        { "const": "Synology", "title": "Synology C2 Object Storage" },
        { "const": "Zata", "title": "Zata.ai Cloud Storage" }
      ],
      "default": "AWS"
    },
    "env_auth": {
      "type": "boolean",
      "title": "Use Environment Auth",
      "description": "Get AWS credentials from runtime (environment variables or EC2/ECS meta data)",
      "default": false
    },
    "access_key_id": {
      "type": "string",
      "title": "Access Key ID",
      "description": "AWS Access Key ID. Leave blank for anonymous access or runtime credentials"
    },
    "secret_access_key": {
      "type": "string",
      "title": "Secret Access Key",
      "description": "AWS Secret Access Key (password). Leave blank for anonymous access or runtime credentials",
      "format": "password"
    },
    "session_token": {
      "type": "string",
      "title": "Session Token",
      "description": "AWS Session Token for temporary credentials"
    },
    "region": {
      "type": "string",
      "title": "Region",
      "description": "Region to connect to"
    },
    "endpoint": {
      "type": "string",
      "title": "Endpoint",
      "description": "Endpoint for S3 API"
    },
    "location_constraint": {
      "type": "string",
      "title": "Location Constraint",
      "description": "Location constraint - must match the Region. Used when creating buckets only"
    },
    "acl": {
      "type": "string",
      "title": "Canned ACL",
      "description": "Canned ACL used when creating buckets and storing or copying objects",
      "oneOf": [
        { "const": "", "title": "Default (private)" },
        { "const": "private", "title": "Private" },
        { "const": "public-read", "title": "Public Read" },
        { "const": "public-read-write", "title": "Public Read/Write" },
        { "const": "authenticated-read", "title": "Authenticated Read" },
        { "const": "bucket-owner-read", "title": "Bucket Owner Read" },
        { "const": "bucket-owner-full-control", "title": "Bucket Owner Full Control" }
      ],
      "default": ""
    },
    "bucket_acl": {
      "type": "string",
      "title": "Bucket ACL",
      "description": "Canned ACL used when creating buckets. If empty, acl is used instead",
      "oneOf": [
        { "const": "", "title": "Use ACL setting" },
        { "const": "private", "title": "Private" },
        { "const": "public-read", "title": "Public Read" },
        { "const": "public-read-write", "title": "Public Read/Write" },
        { "const": "authenticated-read", "title": "Authenticated Read" }
      ]
    },
    "server_side_encryption": {
      "type": "string",
      "title": "Server Side Encryption",
      "description": "Server-side encryption algorithm",
      "oneOf": [
        { "const": "", "title": "None" },
        { "const": "AES256", "title": "AES256" },
        { "const": "aws:kms", "title": "AWS KMS" }
      ],
      "default": ""
    },
    "sse_kms_key_id": {
      "type": "string",
      "title": "KMS Key ID",
      "description": "If using KMS ID you must provide the ARN of Key",
      "examples": ["arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012"]
    },
    "sse_customer_algorithm": {
      "type": "string",
      "title": "SSE-C Algorithm",
      "description": "Server-side encryption algorithm for SSE-C",
      "oneOf": [
        { "const": "", "title": "None" },
        { "const": "AES256", "title": "AES256" }
      ]
    },
    "sse_customer_key": {
      "type": "string",
      "title": "SSE-C Key",
      "description": "Secret encryption key for SSE-C",
      "format": "password"
    },
    "sse_customer_key_base64": {
      "type": "string",
      "title": "SSE-C Key (Base64)",
      "description": "Secret encryption key in base64 format for SSE-C",
      "format": "password"
    },
    "storage_class": {
      "type": "string",
      "title": "Storage Class",
      "description": "Storage class to use when storing new objects"
    },
    "upload_cutoff": {
      "oneOf": [
        { "type": "string", "pattern": "^[0-9]+(\\.[0-9]+)?[BKMGTP]?i?$" },
        { "type": "integer", "minimum": 0, "maximum": 5368709120 }
      ],
      "title": "Upload Cutoff",
      "description": "Cutoff for switching to chunked upload. Maximum is 5GB",
      "default": "200Mi"
    },
    "chunk_size": {
      "oneOf": [
        { "type": "string", "pattern": "^[0-9]+(\\.[0-9]+)?[BKMGTP]?i?$" },
        { "type": "integer", "minimum": 5242880 }
      ],
      "title": "Chunk Size",
      "description": "Chunk size for multipart uploads (minimum 5MB)",
      "default": "5Mi"
    },
    "max_upload_parts": {
      "type": "integer",
      "title": "Max Upload Parts",
      "description": "Maximum number of parts in a multipart upload",
      "default": 10000,
      "minimum": 1,
      "maximum": 10000
    },
    "copy_cutoff": {
      "oneOf": [
        { "type": "string", "pattern": "^[0-9]+(\\.[0-9]+)?[BKMGTP]?i?$" },
        { "type": "integer", "minimum": 0 }
      ],
      "title": "Copy Cutoff",
      "description": "Cutoff for switching to multipart copy",
      "default": "4.656Gi"
    },
    "disable_checksum": {
      "type": "boolean",
      "title": "Disable Checksum",
      "description": "Don't store MD5 checksum with object metadata",
      "default": false
    },
    "shared_credentials_file": {
      "type": "string",
      "title": "Shared Credentials File",
      "description": "Path to the shared credentials file"
    },
    "profile": {
      "type": "string",
      "title": "Profile",
      "description": "Profile to use in the shared credentials file"
    },
    "upload_concurrency": {
      "type": "integer",
      "title": "Upload Concurrency",
      "description": "Concurrency for multipart uploads",
      "default": 4,
      "minimum": 1
    },
    "force_path_style": {
      "type": "boolean",
      "title": "Force Path Style",
      "description": "Use path style access instead of virtual hosted style",
      "default": false
    },
    "v2_auth": {
      "type": "boolean",
      "title": "Use V2 Auth",
      "description": "Use AWS v2 authentication (signature v2)",
      "default": false
    },
    "use_accelerate_endpoint": {
      "type": "boolean",
      "title": "Use Accelerate Endpoint",
      "description": "Use AWS S3 Transfer Acceleration endpoint",
      "default": false
    },
    "leave_parts_on_error": {
      "type": "boolean",
      "title": "Leave Parts on Error",
      "description": "Don't delete incomplete multipart uploads on error",
      "default": false
    },
    "requester_pays": {
      "type": "boolean",
      "title": "Requester Pays",
      "description": "Enable requester pays option when interacting with S3 bucket",
      "default": false
    }
  },
  "allOf": [
    {
      "if": {
        "properties": { "provider": { "const": "AWS" } }
      },
      "then": {
        "properties": {
          "region": {
            "type": "string",
            "title": "AWS Region",
            "oneOf": [
              { "const": "us-east-1", "title": "US East (N. Virginia) - Default" },
              { "const": "us-east-2", "title": "US East (Ohio)" },
              { "const": "us-west-1", "title": "US West (N. California)" },
              { "const": "us-west-2", "title": "US West (Oregon)" },
              { "const": "ca-central-1", "title": "Canada (Central)" },
              { "const": "eu-west-1", "title": "EU (Ireland)" },
              { "const": "eu-west-2", "title": "EU (London)" },
              { "const": "eu-west-3", "title": "EU (Paris)" },
              { "const": "eu-north-1", "title": "EU (Stockholm)" },
              { "const": "eu-south-1", "title": "EU (Milan)" },
              { "const": "eu-central-1", "title": "EU (Frankfurt)" },
              { "const": "ap-southeast-1", "title": "Asia Pacific (Singapore)" },
              { "const": "ap-southeast-2", "title": "Asia Pacific (Sydney)" },
              { "const": "ap-northeast-1", "title": "Asia Pacific (Tokyo)" },
              { "const": "ap-northeast-2", "title": "Asia Pacific (Seoul)" },
              { "const": "ap-northeast-3", "title": "Asia Pacific (Osaka)" },
              { "const": "ap-south-1", "title": "Asia Pacific (Mumbai)" },
              { "const": "ap-east-1", "title": "Asia Pacific (Hong Kong)" },
              { "const": "sa-east-1", "title": "South America (SÃ£o Paulo)" },
              { "const": "il-central-1", "title": "Israel (Tel Aviv)" },
              { "const": "me-south-1", "title": "Middle East (Bahrain)" },
              { "const": "af-south-1", "title": "Africa (Cape Town)" },
              { "const": "cn-north-1", "title": "China (Beijing)" },
              { "const": "cn-northwest-1", "title": "China (Ningxia)" },
              { "const": "us-gov-east-1", "title": "AWS GovCloud (US-East)" },
              { "const": "us-gov-west-1", "title": "AWS GovCloud (US-West)" }
            ]
          },
          "storage_class": {
            "type": "string",
            "title": "Storage Class",
            "oneOf": [
              { "const": "", "title": "Default" },
              { "const": "STANDARD", "title": "Standard" },
              { "const": "REDUCED_REDUNDANCY", "title": "Reduced Redundancy" },
              { "const": "STANDARD_IA", "title": "Standard Infrequent Access" },
              { "const": "ONEZONE_IA", "title": "One Zone Infrequent Access" },
              { "const": "INTELLIGENT_TIERING", "title": "Intelligent-Tiering" },
              { "const": "GLACIER", "title": "Glacier Flexible Retrieval" },
              { "const": "GLACIER_IR", "title": "Glacier Instant Retrieval" },
              { "const": "DEEP_ARCHIVE", "title": "Glacier Deep Archive" }
            ]
          }
        }
      }
    },
    {
      "if": {
        "properties": { "provider": { "const": "Wasabi" } }
      },
      "then": {
        "properties": {
          "endpoint": {
            "type": "string",
            "title": "Wasabi Endpoint",
            "oneOf": [
              { "const": "s3.wasabisys.com", "title": "US East 1 (N. Virginia)" },
              { "const": "s3.us-east-2.wasabisys.com", "title": "US East 2 (N. Virginia)" },
              { "const": "s3.us-central-1.wasabisys.com", "title": "US Central 1 (Texas)" },
              { "const": "s3.us-west-1.wasabisys.com", "title": "US West 1 (Oregon)" },
              { "const": "s3.ca-central-1.wasabisys.com", "title": "CA Central 1 (Toronto)" },
              { "const": "s3.eu-central-1.wasabisys.com", "title": "EU Central 1 (Amsterdam)" },
              { "const": "s3.eu-central-2.wasabisys.com", "title": "EU Central 2 (Frankfurt)" },
              { "const": "s3.eu-west-1.wasabisys.com", "title": "EU West 1 (London)" },
              { "const": "s3.eu-west-2.wasabisys.com", "title": "EU West 2 (Paris)" },
              { "const": "s3.eu-south-1.wasabisys.com", "title": "EU South 1 (Milan)" },
              { "const": "s3.ap-northeast-1.wasabisys.com", "title": "AP Northeast 1 (Tokyo)" },
              { "const": "s3.ap-northeast-2.wasabisys.com", "title": "AP Northeast 2 (Osaka)" },
              { "const": "s3.ap-southeast-1.wasabisys.com", "title": "AP Southeast 1 (Singapore)" },
              { "const": "s3.ap-southeast-2.wasabisys.com", "title": "AP Southeast 2 (Sydney)" }
            ]
          }
        }
      }
    },
    {
      "if": {
        "properties": { "provider": { "const": "DigitalOcean" } }
      },
      "then": {
        "properties": {
          "endpoint": {
            "type": "string",
            "title": "DigitalOcean Endpoint",
            "oneOf": [
              { "const": "nyc3.digitaloceanspaces.com", "title": "New York 3" },
              { "const": "sfo3.digitaloceanspaces.com", "title": "San Francisco 3" },
              { "const": "sfo2.digitaloceanspaces.com", "title": "San Francisco 2" },
              { "const": "ams3.digitaloceanspaces.com", "title": "Amsterdam 3" },
              { "const": "sgp1.digitaloceanspaces.com", "title": "Singapore 1" },
              { "const": "fra1.digitaloceanspaces.com", "title": "Frankfurt 1" },
              { "const": "lon1.digitaloceanspaces.com", "title": "London 1" },
              { "const": "tor1.digitaloceanspaces.com", "title": "Toronto 1" },
              { "const": "blr1.digitaloceanspaces.com", "title": "Bangalore 1" },
              { "const": "syd1.digitaloceanspaces.com", "title": "Sydney 1" }
            ]
          }
        }
      }
    },
    {
      "if": {
        "properties": { "provider": { "const": "Cloudflare" } }
      },
      "then": {
        "properties": {
          "region": {
            "type": "string",
            "title": "Region",
            "oneOf": [
              { "const": "auto", "title": "Auto (R2 automatically distributes across Cloudflare data centers)" }
            ],
            "default": "auto"
          }
        }
      }
    },
    {
      "if": {
        "properties": { "provider": { "const": "Minio" } }
      },
      "then": {
        "properties": {
          "endpoint": {
            "type": "string",
            "title": "Minio Endpoint",
            "description": "URL of your Minio server",
            "examples": ["http://localhost:9000", "https://minio.example.com"]
          },
          "force_path_style": {
            "type": "boolean",
            "const": true,
            "title": "Force Path Style",
            "description": "Minio requires path style access (automatically enabled)"
          }
        },
        "required": ["endpoint"]
      }
    }
  ],
  "additionalProperties": false,
  "examples": [
    {
      "provider": "AWS",
      "region": "us-east-1",
      "access_key_id": "AKIAIOSFODNN7EXAMPLE",
      "secret_access_key": "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY",
      "storage_class": "STANDARD_IA"
    },
    {
      "provider": "Wasabi",
      "endpoint": "s3.wasabisys.com",
      "access_key_id": "WASABI_KEY",
      "secret_access_key": "WASABI_SECRET"
    },
    {
      "provider": "DigitalOcean",
      "endpoint": "nyc3.digitaloceanspaces.com",
      "access_key_id": "DO_KEY",
      "secret_access_key": "DO_SECRET"
    },
    {
      "provider": "Cloudflare",
      "region": "auto",
      "access_key_id": "CF_KEY",
      "secret_access_key": "CF_SECRET"
    },
    {
      "provider": "Minio",
      "endpoint": "http://localhost:9000",
      "access_key_id": "minioadmin",
      "secret_access_key": "minioadmin",
      "force_path_style": true
    }
  ],
  "$comment": "S3 backend supports 46 providers. Provider-specific fields (region, endpoint, storage_class) use oneOf with const/title for clean dropdown generation. The allOf section conditionally shows appropriate fields based on selected provider."
}

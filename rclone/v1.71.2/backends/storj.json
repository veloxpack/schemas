{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.veloxpack.io/rclone/v1.71.2/backends/storj.json",
  "title": "Storj",
  "description": "Storj Decentralized Cloud Storage (formerly Tardigrade)",
  "type": "object",
  "properties": {
    "provider": {
      "type": "string",
      "title": "Authentication Method",
      "description": "Choose an authentication method",
      "default": "existing",
      "oneOf": [
        { "const": "existing", "title": "Use an existing access grant" },
        { "const": "new", "title": "Create a new access grant from satellite address, API key, and passphrase" }
      ]
    },
    "access_grant": {
      "type": "string",
      "title": "Access Grant",
      "description": "Access grant (when using existing provider)",
      "format": "password"
    },
    "satellite_address": {
      "type": "string",
      "title": "Satellite Address",
      "description": "Satellite address. Custom satellite address should match format: <nodeid>@<address>:<port>",
      "default": "us1.storj.io",
      "oneOf": [
        { "const": "us1.storj.io", "title": "US1" },
        { "const": "eu1.storj.io", "title": "EU1" },
        { "const": "ap1.storj.io", "title": "AP1" }
      ]
    },
    "api_key": {
      "type": "string",
      "title": "API Key",
      "description": "API key (when creating new access grant)",
      "format": "password"
    },
    "passphrase": {
      "type": "string",
      "title": "Encryption Passphrase",
      "description": "Encryption passphrase. To access existing objects enter passphrase used for uploading",
      "format": "password"
    }
  },
  "additionalProperties": false,
  "allOf": [
    {
      "if": {
        "properties": { "provider": { "const": "existing" } }
      },
      "then": {
        "required": ["access_grant"]
      }
    },
    {
      "if": {
        "properties": { "provider": { "const": "new" } }
      },
      "then": {
        "required": ["satellite_address", "api_key", "passphrase"]
      }
    }
  ],
  "examples": [
    {
      "provider": "existing",
      "access_grant": "1aBcDeFgHiJkLmNoPqRsTuVwXyZ..."
    },
    {
      "provider": "new",
      "satellite_address": "us1.storj.io",
      "api_key": "1aBcDeFgHiJkLmNoPqRsTuVwXyZ...",
      "passphrase": "my-encryption-passphrase"
    }
  ]
}

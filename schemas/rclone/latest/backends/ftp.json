{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.veloxpack.io/schemas/rclone/latest/backends/ftp.json",
  "title": "FTP",
  "description": "Configuration schema for rclone FTP backend",
  "type": "object",
  "required": ["host"],
  "properties": {
    "host": {
      "type": "string",
      "title": "FTP Host",
      "description": "FTP host to connect to",
      "examples": ["ftp.example.com", "192.168.1.100"]
    },
    "user": {
      "type": "string",
      "title": "FTP Username",
      "description": "FTP username for authentication"
    },
    "port": {
      "type": "integer",
      "title": "FTP Port",
      "description": "FTP port number",
      "default": 21,
      "minimum": 1,
      "maximum": 65535
    },
    "pass": {
      "type": "string",
      "title": "FTP Password",
      "description": "FTP password",
      "format": "password"
    },
    "tls": {
      "type": "boolean",
      "title": "Implicit FTPS",
      "description": "Use Implicit FTPS (FTP over TLS). Usually served over port 990. Cannot be used with explicit_tls",
      "default": false
    },
    "explicit_tls": {
      "type": "boolean",
      "title": "Explicit FTPS",
      "description": "Use Explicit FTPS (FTP over TLS). Client explicitly requests security from the server. Cannot be used with tls",
      "default": false
    },
    "concurrency": {
      "type": "integer",
      "title": "Concurrency",
      "description": "Maximum number of FTP simultaneous connections, 0 for unlimited. Use with care to avoid deadlocks",
      "default": 0,
      "minimum": 0
    },
    "no_check_certificate": {
      "type": "boolean",
      "title": "Skip Certificate Verification",
      "description": "Do not verify the TLS certificate of the server",
      "default": false
    },
    "disable_epsv": {
      "type": "boolean",
      "title": "Disable EPSV",
      "description": "Disable using EPSV even if server advertises support",
      "default": false
    },
    "disable_mlsd": {
      "type": "boolean",
      "title": "Disable MLSD",
      "description": "Disable using MLSD even if server advertises support",
      "default": false
    },
    "disable_utf8": {
      "type": "boolean",
      "title": "Disable UTF-8",
      "description": "Disable using UTF-8 even if server advertises support",
      "default": false
    },
    "writing_mdtm": {
      "type": "boolean",
      "title": "Use MDTM for Setting ModTime",
      "description": "Use MDTM to set modification time (VsFtpd quirk)",
      "default": false
    },
    "force_list_hidden": {
      "type": "boolean",
      "title": "Force List Hidden Files",
      "description": "Use LIST -a to force listing of hidden files and folders. Disables the use of MLSD",
      "default": false
    },
    "idle_timeout": {
      "type": "string",
      "title": "Idle Timeout",
      "description": "Max time before closing idle connections. Set to 0 to keep connections indefinitely",
      "pattern": "^[0-9]+(ns|us|µs|ms|s|m|h)$",
      "default": "1m0s",
      "examples": ["1m", "5m", "0s"]
    },
    "close_timeout": {
      "type": "string",
      "title": "Close Timeout",
      "description": "Maximum time to wait for a response to close",
      "pattern": "^[0-9]+(ns|us|µs|ms|s|m|h)$",
      "default": "1m0s"
    },
    "tls_cache_size": {
      "type": "integer",
      "title": "TLS Cache Size",
      "description": "Size of TLS session cache for all control and data connections. Use 0 to disable",
      "default": 32,
      "minimum": 0
    },
    "disable_tls13": {
      "type": "boolean",
      "title": "Disable TLS 1.3",
      "description": "Disable TLS 1.3 (workaround for FTP servers with buggy TLS)",
      "default": false
    },
    "allow_insecure_tls_ciphers": {
      "type": "boolean",
      "title": "Allow Insecure TLS Ciphers",
      "description": "Allow the usage of insecure TLS ciphers",
      "default": false
    },
    "shut_timeout": {
      "type": "string",
      "title": "Shutdown Timeout",
      "description": "Maximum time to wait for data connection closing status",
      "pattern": "^[0-9]+(ns|us|µs|ms|s|m|h)$",
      "default": "1m0s"
    },
    "ask_password": {
      "type": "boolean",
      "title": "Ask for Password",
      "description": "Allow asking for FTP password when needed",
      "default": false
    },
    "socks_proxy": {
      "type": "string",
      "title": "SOCKS5 Proxy",
      "description": "SOCKS5 proxy host in format user:pass@host:port, user@host:port, or host:port",
      "examples": ["localhost:1080", "myUser:myPass@localhost:9005"]
    },
    "http_proxy": {
      "type": "string",
      "title": "HTTP Proxy",
      "format": "uri",
      "description": "URL for HTTP CONNECT proxy"
    },
    "no_check_upload": {
      "type": "boolean",
      "title": "Skip Upload Verification",
      "description": "Don't check the upload exists after upload. Enables uploading to write-only folders",
      "default": false
    },
    "encoding": {
      "type": "string",
      "title": "Encoding",
      "description": "Encoding for the backend",
      "examples": ["Asterisk,Ctl,Dot,Slash", "BackSlash,Ctl,Del,Dot,RightSpace,Slash,SquareBracket"]
    }
  },
  "allOf": [
    {
      "if": {
        "properties": {
          "tls": {
            "const": true
          }
        }
      },
      "then": {
        "not": {
          "properties": {
            "explicit_tls": {
              "const": true
            }
          }
        }
      },
      "description": "tls and explicit_tls cannot both be true"
    }
  ],
  "additionalProperties": false,
  "examples": [
    {
      "host": "ftp.example.com",
      "user": "admin",
      "pass": "password",
      "port": 21
    },
    {
      "host": "ftps.example.com",
      "user": "backup",
      "port": 990,
      "tls": true,
      "no_check_certificate": false
    }
  ]
}


{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.veloxpack.io/schemas/rclone/latest/backends/local.json",
  "title": "Local",
  "description": "Configuration schema for rclone local filesystem backend",
  "type": "object",
  "properties": {
    "nounc": {
      "type": "boolean",
      "default": false,
      "description": "Disable UNC (long path names) conversion on Windows",
      "platform": "windows"
    },
    "copy_links": {
      "type": "boolean",
      "default": false,
      "description": "Follow symlinks and copy the pointed to item. Short flag: -L",
      "shortFlag": "-L"
    },
    "links": {
      "type": "boolean",
      "default": false,
      "description": "Translate symlinks to/from regular files with a '.rclonelink' extension for the local backend"
    },
    "skip_links": {
      "type": "boolean",
      "default": false,
      "description": "Don't warn about skipped symlinks. This flag disables warning messages on skipped symlinks or junction points"
    },
    "skip_specials": {
      "type": "boolean",
      "default": false,
      "description": "Don't warn about skipped pipes, sockets and device objects. This flag disables warning messages on these special files"
    },
    "zero_size_links": {
      "type": "boolean",
      "default": false,
      "description": "Assume the Stat size of links is zero (and read them instead). Deprecated - rclone now always reads the link",
      "deprecated": true
    },
    "unicode_normalization": {
      "type": "boolean",
      "default": false,
      "description": "Apply unicode NFC normalization to paths and filenames. Useful when using macOS as it normally provides decomposed (NFD) unicode which in some languages doesn't display properly on some OSes"
    },
    "no_check_updated": {
      "type": "boolean",
      "default": false,
      "description": "Don't check to see if the files change during upload. Normally rclone checks the size and modification time of files as they are being uploaded. WARNING: Do not use this flag on a Windows Volume Shadow (VSS)"
    },
    "one_file_system": {
      "type": "boolean",
      "default": false,
      "description": "Don't cross filesystem boundaries (unix/macOS only). Short flag: -x",
      "shortFlag": "-x",
      "platform": "unix/macOS"
    },
    "case_sensitive": {
      "type": "boolean",
      "default": false,
      "description": "Force the filesystem to report itself as case sensitive. Normally the local backend declares itself as case insensitive on Windows/macOS and case sensitive for everything else"
    },
    "case_insensitive": {
      "type": "boolean",
      "default": false,
      "description": "Force the filesystem to report itself as case insensitive. Normally the local backend declares itself as case insensitive on Windows/macOS and case sensitive for everything else"
    },
    "no_clone": {
      "type": "boolean",
      "default": false,
      "description": "Disable reflink cloning for server-side copies. Cloning creates a shallow copy (or reflink) which initially shares blocks with the original file. Currently only supported when using APFS on macOS",
      "platform": "macOS APFS"
    },
    "no_preallocate": {
      "type": "boolean",
      "default": false,
      "description": "Disable preallocation of disk space for transferred files. Preallocation helps prevent filesystem fragmentation. However, some virtual filesystem layers may incorrectly set the actual file size equal to the preallocated space"
    },
    "no_sparse": {
      "type": "boolean",
      "default": false,
      "description": "Disable sparse files for multi-thread downloads. On Windows platforms rclone will make sparse files when doing multi-thread downloads. However sparse files may cause disk fragmentation",
      "platform": "windows"
    },
    "no_set_modtime": {
      "type": "boolean",
      "default": false,
      "description": "Disable setting modtime. Normally rclone updates modification time of files after they are done uploading. This can cause permissions issues on Linux platforms when the user rclone is running as does not own the file"
    },
    "time_type": {
      "type": "string",
      "default": "mtime",
      "enum": ["mtime", "atime", "btime", "ctime"],
      "description": "Set what kind of time is returned. This controls which timestamp is shown in listings and used for sync comparisons",
      "examples": {
        "mtime": {
          "description": "The last modification time (supported on all OSes)"
        },
        "atime": {
          "description": "The last access time (supported on all OSes except plan9, js)"
        },
        "btime": {
          "description": "The creation time (only supported on Windows, macOS, freebsd, netbsd)"
        },
        "ctime": {
          "description": "The last status change time (supported on all OSes except Windows, plan9, js)"
        }
      }
    },
    "hashes": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": ["MD5", "SHA1", "SHA256", "CRC32", "QuickXorHash", "DropboxHash"]
      },
      "default": [],
      "description": "Comma separated list of supported checksum types to enable",
      "examples": [
        ["MD5"],
        ["MD5", "SHA1"],
        ["SHA256"]
      ]
    },
    "encoding": {
      "type": "string",
      "default": "OS-specific",
      "description": "The encoding for the backend. This controls how file names are encoded/decoded",
      "examples": [
        "Slash,InvalidUtf8",
        "Slash,Ctl,InvalidUtf8",
        "None"
      ]
    }
  },
  "additionalProperties": false,
  "allOf": [
    {
      "if": {
        "properties": {
          "copy_links": {
            "const": true
          }
        }
      },
      "then": {
        "not": {
          "properties": {
            "links": {
              "const": true
            }
          }
        }
      },
      "description": "copy_links and links cannot both be true"
    },
    {
      "if": {
        "properties": {
          "case_sensitive": {
            "const": true
          }
        }
      },
      "then": {
        "not": {
          "properties": {
            "case_insensitive": {
              "const": true
            }
          }
        }
      },
      "description": "case_sensitive and case_insensitive cannot both be true"
    }
  ],
  "examples": [
    {
      "copy_links": true,
      "skip_links": false,
      "no_check_updated": false
    },
    {
      "case_insensitive": true,
      "unicode_normalization": true,
      "time_type": "mtime"
    },
    {
      "no_clone": false,
      "no_preallocate": false,
      "no_sparse": false,
      "hashes": ["MD5", "SHA1"]
    },
    {
      "one_file_system": true,
      "skip_specials": true,
      "no_set_modtime": false
    }
  ],
  "$comment": "This schema represents the local backend options as defined in backend/local/local.go. All flags are prefixed with --local- when used on the command line (e.g., --local-no-clone, --local-case-sensitive). Platform-specific options are noted in their descriptions."
}


{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.veloxpack.io/schemas/rclone/latest/backends/sftp.json",
  "title": "SFTP",
  "description": "Configuration schema for rclone SSH/SFTP backend",
  "type": "object",
  "required": ["host"],
  "properties": {
    "host": {
      "type": "string",
      "title": "SSH Host",
      "description": "SSH host to connect to",
      "examples": ["example.com", "ssh.example.com", "192.168.1.100"]
    },
    "user": {
      "type": "string",
      "title": "SSH Username",
      "description": "SSH username for authentication",
      "examples": ["user", "root", "admin"]
    },
    "port": {
      "type": "integer",
      "title": "SSH Port",
      "description": "SSH port number",
      "default": 22,
      "minimum": 1,
      "maximum": 65535
    },
    "pass": {
      "type": "string",
      "title": "SSH Password",
      "description": "SSH password, leave blank to use ssh-agent",
      "format": "password"
    },
    "key_pem": {
      "type": "string",
      "title": "PEM Private Key",
      "description": "Raw PEM-encoded private key (on single line with \\n for line endings). Overrides key_file if specified"
    },
    "key_file": {
      "type": "string",
      "title": "Private Key File Path",
      "description": "Path to PEM-encoded private key file. Leave blank or set key-use-agent to use ssh-agent"
    },
    "key_file_pass": {
      "type": "string",
      "title": "Key File Passphrase",
      "description": "Passphrase to decrypt the PEM-encoded private key file. Only PEM encrypted key files (old OpenSSH format) are supported",
      "format": "password"
    },
    "pubkey": {
      "type": "string",
      "title": "Public Certificate",
      "description": "SSH public certificate for public certificate based authentication. Overrides pubkey_file if specified"
    },
    "pubkey_file": {
      "type": "string",
      "title": "Public Key File Path",
      "description": "Optional path to public key file for certificate based authentication"
    },
    "known_hosts_file": {
      "type": "string",
      "title": "Known Hosts File",
      "description": "Path to known_hosts file for host key verification"
    },
    "key_use_agent": {
      "type": "boolean",
      "title": "Use SSH Agent",
      "description": "Use ssh-agent for authentication",
      "default": false
    },
    "use_insecure_cipher": {
      "type": "boolean",
      "title": "Use Insecure Cipher",
      "description": "Enable the use of insecure ciphers and key exchange methods",
      "default": false
    },
    "disable_hashcheck": {
      "type": "boolean",
      "title": "Disable Hash Check",
      "description": "Disable hash checking for file integrity verification",
      "default": false
    },
    "ask_password": {
      "type": "boolean",
      "title": "Ask for Password",
      "description": "Allow prompting for password when needed",
      "default": false
    },
    "path_override": {
      "type": "string",
      "title": "Path Override",
      "description": "Override path returned by SSH connection"
    },
    "set_modtime": {
      "type": "boolean",
      "title": "Set Modification Time",
      "description": "Set modification time on uploaded files",
      "default": true
    },
    "shell_type": {
      "type": "string",
      "title": "Shell Type",
      "description": "Type of SSH shell on the server",
      "enum": ["none", "unix", "powershell"],
      "examples": ["unix", "powershell", "none"]
    },
    "md5sum_command": {
      "type": "string",
      "title": "MD5 Command",
      "description": "Command to read md5 hashes"
    },
    "sha1sum_command": {
      "type": "string",
      "title": "SHA1 Command",
      "description": "Command to read sha1 hashes"
    },
    "skip_links": {
      "type": "boolean",
      "title": "Skip Symlinks",
      "description": "Skip symbolic links and other non-regular files",
      "default": false
    },
    "subsystem": {
      "type": "string",
      "title": "SSH Subsystem",
      "description": "SSH2 subsystem on the remote host",
      "default": "sftp"
    },
    "server_command": {
      "type": "string",
      "title": "Server Command",
      "description": "Path or command to run sftp server on the remote host"
    },
    "use_fstat": {
      "type": "boolean",
      "title": "Use fstat",
      "description": "Use fstat instead of stat",
      "default": false
    },
    "disable_concurrent_reads": {
      "type": "boolean",
      "title": "Disable Concurrent Reads",
      "description": "Disable concurrent reads",
      "default": false
    },
    "disable_concurrent_writes": {
      "type": "boolean",
      "title": "Disable Concurrent Writes",
      "description": "Disable concurrent writes",
      "default": false
    },
    "idle_timeout": {
      "type": "string",
      "title": "Idle Timeout",
      "description": "Max time before closing idle connections",
      "pattern": "^[0-9]+(ns|us|Âµs|ms|s|m|h)$",
      "default": "1m0s",
      "examples": ["1m", "5m", "10m"]
    },
    "chunk_size": {
      "oneOf": [
        {
          "type": "string",
          "pattern": "^[0-9]+(\\.[0-9]+)?[BKMGTP]?i?$"
        },
        {
          "type": "integer",
          "minimum": 0
        }
      ],
      "title": "Chunk Size",
      "description": "Upload and download chunk size",
      "default": "32Ki",
      "examples": ["32K", "64K", "128K"]
    },
    "concurrency": {
      "type": "integer",
      "title": "Concurrency",
      "description": "Maximum number of outstanding requests for one file",
      "default": 64,
      "minimum": 1
    },
    "connections": {
      "type": "integer",
      "title": "Connections",
      "description": "Maximum number of SFTP simultaneous connections",
      "default": 1,
      "minimum": 1
    },
    "set_env": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "title": "Environment Variables",
      "description": "Environment variables to pass to sftp and commands",
      "examples": [["VAR=value"], ["PATH=/usr/local/bin"]]
    },
    "ciphers": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "title": "SSH Ciphers",
      "description": "Space separated list of ciphers to be used for session encryption"
    },
    "key_exchange": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "title": "Key Exchange Algorithms",
      "description": "Space separated list of key exchange algorithms"
    },
    "macs": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "title": "MAC Algorithms",
      "description": "Space separated list of MACs (message authentication code) algorithms"
    },
    "host_key_algorithms": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "title": "Host Key Algorithms",
      "description": "Space separated list of host key algorithms"
    },
    "socks_proxy": {
      "type": "string",
      "title": "SOCKS5 Proxy",
      "description": "SOCKS5 proxy host in format user:pass@host:port, user@host:port, or host:port",
      "examples": ["localhost:1080", "user:pass@localhost:1080"]
    },
    "http_proxy": {
      "type": "string",
      "title": "HTTP Proxy",
      "format": "uri",
      "description": "URL for HTTP CONNECT proxy which supports the HTTP CONNECT verb"
    },
    "copy_is_hardlink": {
      "type": "boolean",
      "title": "Copy is Hardlink",
      "description": "Enable server side copies using hardlinks (not all SFTP servers support this)",
      "default": false
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "host": "example.com",
      "user": "admin",
      "port": 22,
      "key_file": "~/.ssh/id_rsa"
    },
    {
      "host": "sftp.example.com",
      "user": "backup",
      "pass": "password123",
      "port": 2222
    }
  ]
}


{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.veloxpack.io/schemas/rclone/v1.71.2/backends/compress.json",
  "title": "Compress",
  "description": "Compress files transparently using gzip",
  "type": "object",
  "required": ["remote"],
  "properties": {
    "remote": {
      "type": "string",
      "title": "Remote to Compress",
      "description": "Remote to compress",
      "examples": ["myremote:", "s3:bucket", "drive:compressed"]
    },
    "mode": {
      "type": "string",
      "title": "Compression Mode",
      "description": "Compression algorithm to use",
      "default": "gzip",
      "oneOf": [
        { "const": "gzip", "title": "GZIP - Standard gzip compression with fastest parameters" }
      ]
    },
    "level": {
      "type": "integer",
      "title": "Compression Level",
      "description": "GZIP compression level (-2 to 9). -1 (default) is recommended. Higher = more compression but slower",
      "default": -1,
      "minimum": -2,
      "maximum": 9,
      "examples": [-1, 0, 5, 6, 9]
    },
    "ram_cache_limit": {
      "oneOf": [
        { "type": "string", "pattern": "^[0-9]+(\\.[0-9]+)?[BKMGTP]?i?$" },
        { "type": "integer", "minimum": 0 }
      ],
      "title": "RAM Cache Limit",
      "description": "Files smaller than this will be cached in RAM, larger files cached on disk (for remotes that don't support unknown size uploads)",
      "default": "20Mi",
      "examples": ["20M", "50M", "100M"]
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "remote": "drive:data",
      "mode": "gzip",
      "level": -1
    },
    {
      "remote": "s3:bucket",
      "level": 6,
      "ram_cache_limit": "50M"
    }
  ]
}
